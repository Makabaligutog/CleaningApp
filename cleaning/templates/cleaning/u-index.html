<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busy Bee Cleaning Co.</title>

    <!-- Load static files -->
    {% load static %}

    <!-- Link to your CSS file -->
    <link rel="stylesheet" href="{% static 'styles/index.css' %}?10">
</head>
<body>
    <header>
        <nav>
            <div class="logo-title-container">
                <img src="{% static 'images/logo1.png' %}" class="logo" alt="logo">
                <h1 class="site-title">Sayago's Cleaning Co.</h1>
            </div>            
            <ul class="centered-menu">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'home_services' %}">Services</a></li>
                <li><a href="{% url 'home_about' %}">About Us</a></li>
                <li><a href="{% url 'home_blog' %}">Blog</a></li>
                <li>{{ request.user.username }}</li>
            </ul>
        </nav>
        <img src="{% static 'images/icon.jpg' %}" class="profile-icon" alt="Profile" onclick="toggleSidebar()">
    </header>

    <div id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleSidebar()">&times;</a>
        <a href="{% url 'user_profile' %}">Profile</a>
        <a href="{% url 'login' %}">Sign Out</a>
    </div>

    <div class="content">
        <div class="men_text">
            <br><h2>"Cleaning Services"</h2>
            <div class="text">
                <p>
                    Sayago Cleaning Inc. offers a range of cleaning services, including residential cleaning for homes, 
                    such as deep cleaning and move-in/move-out services. They provide commercial cleaning for offices, 
                    retail spaces, and industrial facilities. Specialty services include carpet and upholstery cleaning, 
                    window washing, and eco-friendly green cleaning options.
                </p>
            </div>
            <div class="buttons">
                <a href="#" class="book-now" id="bookNowBtn">Book Now</a>
            </div>
        </div>
    </div>

    <!-- Modal for the Booking Form -->
    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeModal" aria-label="Close booking form">&times;</span>
            <h2>Book a Cleaning Service</h2>

            <!-- Booking Form -->
            <form id="bookingForm">
                {% csrf_token %}
                <div class="form-group">
                    <label for="cleaningType">Choose a Cleaning Service:</label>
                    <select id="cleaningType" name="cleaning_service" required>
                        <option value="" disabled selected>Select a service</option>
                        <option value="residential">Residential Cleaning</option>
                        <option value="commercial">Commercial Cleaning</option>
                        <option value="deep-cleaning">Deep Cleaning</option>
                        <option value="move-in-out">Move-in/Move-out Cleaning</option>
                        <option value="carpet-cleaning">Carpet Cleaning</option>
                        <option value="upholstery-cleaning">Upholstery Cleaning</option>
                        <option value="window-cleaning">Window Cleaning</option>
                        <option value="eco-friendly">Eco-friendly Green Cleaning</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="firstName">First Name:</label>
                    <input type="text" id="firstName" name="first_name" placeholder="Enter your first name" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name:</label>
                    <input type="text" id="lastName" name="last_name" placeholder="Enter your last name" required>
                </div>
                <div class="form-group">
                    <label for="contactNumber">Contact Number:</label>
                    <input type="tel" id="contactNumber" name="contact_number" placeholder="Enter your contact number" required>
                </div>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <textarea id="address" name="address" placeholder="Enter your address" required></textarea>
                </div>
                <div class="form-group">
                    <label for="additionalInfo">Additional Info:</label>
                    <textarea id="additionalInfo" name="additional_info" placeholder="Additional details"></textarea>
                </div>
                <div class="form-group">
                    <input type="checkbox" id="privacyPolicy" name="privacyPolicy" required>
                    <label for="privacyPolicy">I have read and accept the <a href="#">Privacy Policy</a></label>
                </div>
                <div class="form-group">
                    <button id="booking_submit_btn" type="submit">Submit</button>
                </div>
            </form>

            <!-- Thank You Message -->
            <div class="thank-you-message" id="thankYouMessage" style="display:none;">
                <p>Thank you for booking with us! We will get in touch with you soon.</p>
            </div>
        </div>
    </div>

    <!-- JavaScript Links -->
    <script src="{% static 'scripts/jquery.js' %}"></script>
    <script src="{% static 'scripts/user_index.js'%}"></script>
    <script>
        // Sidebar toggle function
        function toggleSidebar() {
            const sidebar = document.getElementById("sidebar");
            sidebar.style.width = sidebar.style.width === "250px" ? "0" : "250px";
        }

        // Modal toggle function
        function toggleModal() {
            const modal = document.getElementById("bookingModal");
            modal.style.display = modal.style.display === "flex" ? "none" : "flex";
        }

        // Close modal when 'X' is clicked
        document.getElementById("closeModal").onclick = function() {
            toggleModal();
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById("bookingModal");
            if (event.target === modal) {
                toggleModal();
            }
        }

        // Open modal when "Book Now" button is clicked
        document.getElementById("bookNowBtn").onclick = function() {
            toggleModal();
        }

        // Form Submission Logic (to be handled in your JS file)
        document.getElementById("bookingForm").onsubmit = function(event) {
            event.preventDefault(); // Prevent the default form submission

            const thankYouMessage = document.getElementById("thankYouMessage");
            thankYouMessage.style.display = "block";

            setTimeout(() => {
                thankYouMessage.style.display = "none";
                toggleModal(); // Close modal after showing thank you message
            }, 3000); // Hide message after 3 seconds
        }
    </script>
</body>
</html>
